<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GNU Radio 2.x: char.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.3 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>char.h</h1><a href="char_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* Include file to configure the RS codec for character symbols</span>
00002 <span class="comment"> *</span>
00003 <span class="comment"> * Copyright 2002, Phil Karn, KA9Q</span>
00004 <span class="comment"> * May be used under the terms of the GNU General Public License (GPL)</span>
00005 <span class="comment"> */</span>
00006 
<a name="l00007"></a><a class="code" href="char_8h.html#a0">00007</a> <span class="preprocessor">#define DTYPE unsigned char</span>
00008 <span class="preprocessor"></span>
00009 <span class="comment">/* Reed-Solomon codec control block */</span>
<a name="l00010"></a><a class="code" href="structrs.html">00010</a> <span class="keyword">struct </span><a class="code" href="structrs.html">rs</a> {
00011   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrs.html#o0">mm</a>;              <span class="comment">/* Bits per symbol */</span>
00012   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrs.html#o1">nn</a>;              <span class="comment">/* Symbols per block (= (1&lt;&lt;mm)-1) */</span>
<a name="l00013"></a><a class="code" href="structrs.html#o2">00013</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structrs.html#o2">alpha_to</a>;      <span class="comment">/* log lookup table */</span>
<a name="l00014"></a><a class="code" href="structrs.html#o3">00014</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structrs.html#o3">index_of</a>;      <span class="comment">/* Antilog lookup table */</span>
<a name="l00015"></a><a class="code" href="structrs.html#o4">00015</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structrs.html#o4">genpoly</a>;       <span class="comment">/* Generator polynomial */</span>
00016   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrs.html#o5">nroots</a>;     <span class="comment">/* Number of generator roots = number of parity symbols */</span>
<a name="l00017"></a><a class="code" href="structrs.html#o6">00017</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structrs.html#o6">fcr</a>;        <span class="comment">/* First consecutive root, index form */</span>
<a name="l00018"></a><a class="code" href="structrs.html#o7">00018</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structrs.html#o7">prim</a>;       <span class="comment">/* Primitive element, index form */</span>
<a name="l00019"></a><a class="code" href="structrs.html#o8">00019</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structrs.html#o8">iprim</a>;      <span class="comment">/* prim-th root of 1, index form */</span>
00020 };
00021 
00022 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> modnn(<span class="keyword">struct</span> <a class="code" href="structrs.html">rs</a> *<a class="code" href="structrs.html">rs</a>,<span class="keywordtype">int</span> x){
00023   <span class="keywordflow">while</span> (x &gt;= rs-&gt;<a class="code" href="structrs.html#o1">nn</a>) {
00024     x -= rs-&gt;<a class="code" href="structrs.html#o1">nn</a>;
00025     x = (x &gt;&gt; rs-&gt;<a class="code" href="structrs.html#o0">mm</a>) + (x &amp; rs-&gt;<a class="code" href="structrs.html#o1">nn</a>);
00026   }
00027   <span class="keywordflow">return</span> x;
00028 }
<a name="l00029"></a><a class="code" href="char_8h.html#a1">00029</a> <span class="preprocessor">#define MODNN(x) modnn(rs,x)</span>
00030 <span class="preprocessor"></span>
<a name="l00031"></a><a class="code" href="char_8h.html#a2">00031</a> <span class="preprocessor">#define MM (rs-&gt;mm)</span>
<a name="l00032"></a><a class="code" href="char_8h.html#a3">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define NN (rs-&gt;nn)</span>
<a name="l00033"></a><a class="code" href="char_8h.html#a4">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define ALPHA_TO (rs-&gt;alpha_to) </span>
<a name="l00034"></a><a class="code" href="char_8h.html#a5">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define INDEX_OF (rs-&gt;index_of)</span>
<a name="l00035"></a><a class="code" href="char_8h.html#a6">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define GENPOLY (rs-&gt;genpoly)</span>
<a name="l00036"></a><a class="code" href="char_8h.html#a7">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define NROOTS (rs-&gt;nroots)</span>
<a name="l00037"></a><a class="code" href="char_8h.html#a8">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define FCR (rs-&gt;fcr)</span>
<a name="l00038"></a><a class="code" href="char_8h.html#a9">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define PRIM (rs-&gt;prim)</span>
<a name="l00039"></a><a class="code" href="char_8h.html#a10">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define IPRIM (rs-&gt;iprim)</span>
<a name="l00040"></a><a class="code" href="char_8h.html#a11">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define A0 (NN)</span>
00041 <span class="preprocessor"></span>
<a name="l00042"></a><a class="code" href="char_8h.html#a12">00042</a> <span class="preprocessor">#define ENCODE_RS encode_rs_char</span>
<a name="l00043"></a><a class="code" href="char_8h.html#a13">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define DECODE_RS decode_rs_char</span>
<a name="l00044"></a><a class="code" href="char_8h.html#a14">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define INIT_RS init_rs_char</span>
<a name="l00045"></a><a class="code" href="char_8h.html#a15">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define FREE_RS free_rs_char</span>
00046 <span class="preprocessor"></span>
00047 <span class="keywordtype">void</span> <a class="code" href="char_8h.html#a12">ENCODE_RS</a>(<span class="keywordtype">void</span> *p,DTYPE *data,DTYPE *parity);
00048 <span class="keywordtype">int</span> <a class="code" href="char_8h.html#a13">DECODE_RS</a>(<span class="keywordtype">void</span> *p,DTYPE *data,<span class="keywordtype">int</span> *eras_pos,<span class="keywordtype">int</span> no_eras);
00049 <span class="keywordtype">void</span> *<a class="code" href="char_8h.html#a14">INIT_RS</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> symsize,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> gfpoly,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fcr,
00050                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> prim,<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nroots);
00051 <span class="keywordtype">void</span> <a class="code" href="char_8h.html#a15">FREE_RS</a>(<span class="keywordtype">void</span> *p);
00052 
00053 
00054 
00055 
00056 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Jul 12 15:00:42 2004 for GNU Radio 2.x by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.3 </small></address>
</body>
</html>
